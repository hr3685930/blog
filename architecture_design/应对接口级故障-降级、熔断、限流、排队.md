# 应对接口级故障-降级、熔断、限流、排队
1：降级——冗余代码或开关控制逻辑，当依赖的基础服务无法提供时，选择提供次一级的服务。
2：熔断——冗余代码开关逻辑，当依赖的某个外部服务提供的变量值达到某个特定值的时候，走别的分治逻辑
3：限流——流量超过预期的量，对超过的量进行限制，抛弃或先缓存一下随后处理
4：排队——也是流量过多，或者需要保留请求的处理次序，使用队列的方式缓存处理信息随后再处理。

如果我来设计一个整点限量秒杀系统，包括登录、抢购、支付（依赖支付宝）等功能，我会如何设计接口级的故障应对手段？
登录——我认为需要在前端加上验证码校验就行，防止同一个用户或用一个IP疯狂的登录，至于后端不应该做过多的限制，一个系统连登录都不行，估计会影响比较大。
抢购——这个是秒杀的关键，这里需要对接口进行限流、排队的控制，防止流量洪峰瞬间将系统拖垮。
支付——抢购成功后需要支付成功才算秒杀成功，这里又依赖支付宝这个外部服务，经抢购的过滤流量应该会下降不少，不过也要防止支付宝服务不稳定的情况发生，需要做好降级和熔断的业务处理。降级服务，需要安慰一下抢购成功支付失败的客户。